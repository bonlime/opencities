# train config
segm_arch: segm_bifpn
arch: se_resnet50
# model_params: {"decoder_merge_policy": "cat"}
# model_params: {"merge_policy": "cat", "num_fpn_layers": 2}
model_params: {"merge_policy": "cat", "num_fpn_layers": 2, "encoder_weights": "None", "deep_stem": True, "antialias": True}
# model_params: {"aspp_dilation_rates": [2, 4, 6]}
optim: novograd
# lr: 1e-2
workers: 8
wd: 1e-4
size: 384
bs: 32
decoder_warmup_epochs: 0
# epochs: 100 # replaced by phases now
datasets: [tier1, tier2]
# phases: [{"ep":[0, 2], "lr": [0, 0.5]}, {"ep":[2, 6], "lr": [0.5, 0.01]}, {"ep":[6, 50], "lr": [ 0.01 , 0], mode: "cos"}]
phases: [{"ep":[0, 100], "lr": [ 0.02 , 0], mode: "cos"}]
opt_level: O1
# criterion: [bce, 0.5,  jaccard,  0.5]
criterion: [hinge, 0.5, dice, 0.5]
# cutmix: True
# resume: logs/7.bifpn_2l_bce_jacc_2tiers_better_se_res50_20200229_145537/model.chpn
name: 7.bifpn_2l_hinge_dice_2tiers_better_se_res50 #_resume